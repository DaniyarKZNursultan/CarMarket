{% extends 'main/base.html' %}
{% load static %}
{% load humanize %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">

  <!-- Блок автосалона -->
  <div class="bg-white rounded-2xl shadow-lg p-6 md:flex md:items-center md:justify-between mb-10 border border-gray-100">
    <div class="flex items-center gap-6">
      {% if dealership.logo %}
        <img src="{{ dealership.logo.url }}" alt="{{ dealership.name }}" class="w-20 h-20 object-contain rounded-lg border border-gray-200 shadow-sm">
      {% endif %}
      <div>
        <h1 class="text-3xl font-bold text-gray-900">{{ dealership.name }}</h1>
        <p class="text-gray-500 mt-1 text-sm max-w-md">{{ dealership.description }}</p>
      </div>
    </div>
    <div class="mt-4 md:mt-0">
      <button id="helpButton" class="bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-2 rounded-xl shadow transition duration-200">
        Нужна помощь?
      </button>
    </div>
  </div>

  <!-- Представляемые бренды -->
  <h2 class="text-2xl font-semibold text-gray-800 mb-4">Представляемые бренды</h2>
  <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 gap-6 mb-12">
    {% for brand in brands %}
      <div class="bg-gray-50 hover:bg-white transition border border-gray-200 rounded-xl p-4 flex flex-col items-center shadow-sm">
        {% if brand.logo %}
          <img src="{{ brand.logo.url }}" alt="{{ brand.name }}" class="h-10 mb-2 object-contain" />
        {% endif %}
        <span class="text-sm text-gray-700 font-medium text-center">{{ brand.name }}</span>
      </div>
    {% empty %}
      <p class="text-gray-600 col-span-full">Нет информации о брендах.</p>
    {% endfor %}
  </div>

  <!-- Автомобили -->
  <h2 class="text-2xl font-semibold text-gray-800 mb-4">Автомобили в наличии</h2>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
    {% for car in cars %}
      <div class="bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-lg hover:shadow-xl transition duration-200">
        {% if car.image %}
          <img src="{{ car.image.url }}" alt="{{ car.model }}" class="h-52 w-full object-cover">
        {% endif %}
        <div class="p-5">
          <div class="flex justify-between items-center mb-2">
            <h3 class="text-lg font-bold text-gray-900">{{ car.brand.name }} {{ car.model }}</h3>
            <span class="text-green-600 font-semibold text-base">{{ car.price|intcomma }} ₸</span>
          </div>
          <p class="text-gray-500 text-sm">{{ car.year }} • {{ car.engine_type }}</p>
        </div>
      </div>
    {% empty %}
      <p class="text-gray-600 col-span-full">Автомобили пока не добавлены.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
